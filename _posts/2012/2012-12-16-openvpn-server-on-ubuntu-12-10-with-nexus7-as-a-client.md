---
layout: post
title: "OpenVPN Server on ubuntu 12.10 with Nexus7 as a client"
date: 2012-12-16 20:32:00.000000000 -05:00
categories: [Android, Network, Staff Picks]
tags: blogger
status: publish
type: post
published: true
meta:
  blogger_blog: www.techronicles.net
  blogger_author: Kenneth Massada
  blogger_ff04fb872097e84c3f74ac8dafe273de_permalink: '25957614192075897'


excerpt_separator: <!--more-->

---
<p><a href="#" style="font-weight:normal;"></b><br />I'll leave the job of explaining vpn to <a href="http://lifehacker.com/5900969/build-your-own-vpn-to-pimp-out-your-gaming-streaming-remote-access-and-oh-yeah-security" target="_blank">someone else</a>, and read <a href="http://www.techronicles.net/2012/12/access-all-your-home-network-everywhere.html" target="_blank">this prelude</a> to get familiar with how this can be of help.</p>
<p>OpenVPN is an open standard, companies use it in production, of course with a lot more security, but its in a lot of people's interest for this to be the most secure as possible, so it can be trusted, to some extent. The platform is ubuntu 12.10, and here's how:</p>
<p><span style="font-family:Arial;font-size:19px;white-space:pre-wrap;">Server Installation</span><br /><span id="internal-source-marker_0.42063610861077905"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">sudo apt-get install openvpn<span style="font-weight:normal;"><br class="kix-line-break" /></span></span></span><br />
<h2 style="font-weight:normal;"><span id="internal-source-marker_0.42063610861077905"><span style="font-family:Arial;font-size:19px;vertical-align:baseline;white-space:pre-wrap;">Public Key Infrastructure Setup</span></span></h2>
<p><span id="internal-source-marker_0.42063610861077905"><span style="font-family:Arial;font-weight:normal;"><span style="font-size:15px;white-space:pre-wrap;">You need three things, the first is the CA key to sign every other key, the second is the key for your server, the third is a key for your clients. </span></span></span><br /><b style="font-weight:normal;"><span style="font-family:Arial;"><span style="font-size:15px;white-space:pre-wrap;"><br /></span></span></b><b style="font-weight:normal;"><span style="font-family:Arial;"><span style="font-size:15px;white-space:pre-wrap;">copy these files from the openvpn installation to a directory at /etc/openvpn/easy-rsa/</span></span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">mkdir /etc/openvpn/easy-rsa/</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">cp -r /usr/share/doc/openvpn/examples/easy-rsa/2.0/* /etc/openvpn/easy-rsa/</span></b><br /><b style="font-weight:normal;"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;"><br /></span></span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Edit /etc/openvpn/easy-rsa/vars</span></b><br /><span style="font-family:'Courier New';font-size:15px;white-space:pre-wrap;">vi /etc/openvpn/easy-rsa/vars</span><br />
<blockquote class="tr_bq"><span style="font-family:'Courier New';font-size:15px;white-space:pre-wrap;">export KEY_COUNTRY="US"</span><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">export KEY_PROVINCE="MD"</span><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">export KEY_CITY="CharmCity"</span><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">export KEY_ORG="PAD"</span><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">export KEY_EMAIL="admn@PAD.LAN"</span></p></blockquote>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Generate the CA certificate and key:</span></b><br /><span style="vertical-align:baseline;"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">cd /etc/openvpn/easy-rsa/</span></span><br class="kix-line-break" /><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">source vars</span></span></span><br /><span style="font-family:'Courier New';font-size:15px;white-space:pre-wrap;"><br /></span><span style="font-family:'Courier New';font-size:15px;white-space:pre-wrap;"></span><br /><a name="more"></a><span style="font-family:'Courier New';font-size:15px;white-space:pre-wrap;"><br /></span><span style="font-size:15px;white-space:pre-wrap;"><span style="font-family:Arial;">I got the following error</span></span><br />
<blockquote class="tr_bq"><span style="font-family:'Courier New';font-size:15px;white-space:pre-wrap;">**************************************************************</span><span style="vertical-align:baseline;"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">  No /etc/openvpn/easy-rsa/openssl.cnf file could be found</span></span></span><span style="vertical-align:baseline;"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">  Further invocations will fail</span></span></span><span style="vertical-align:baseline;"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">**************************************************************</span></span></span></p></blockquote>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">you can check your version with will show you your version</span></b><br /><span style="vertical-align:baseline;"><span style="font-family:'Courier New';font-size:15px;white-space:pre-wrap;">dpkg -s openssl</span></span><br />
<blockquote class="tr_bq"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">Architecture: amd64</span></span><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">Version: 1.0.1-4ubuntu5.5</span></span></p></blockquote>
<div><span style="font-family:'Courier New';font-size:15px;white-space:pre-wrap;"><br /></span></div>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">But inside the directory, there's no version that is 1.0.1, </span></b><br /><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">ls /etc/openvpn/easy-rsa/ | grep openssl</span></span><br />
<blockquote class="tr_bq"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">openssl-0.9.6.cnf</span></span><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">openssl-0.9.8.cnf</span></span><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">openssl-1.0.0.cnf</span></span><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">openssl-1.0.0.cnf-old-copy</span></span><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">openssl.cnf</span></span><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">whichopensslcnf</span></span></p></blockquote>
<p><span style="vertical-align:baseline;"><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></span><span style="vertical-align:baseline;"><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">We change /etc/openvpn/easy-rsa/vars file again, to match the closest version</span></b></span><br /><span style="vertical-align:baseline;"><span style="font-family:'Courier New';font-size:15px;white-space:pre-wrap;">vi /etc/openvpn/easy-rsa/vars</span></span><br />
<blockquote class="tr_bq"><span style="vertical-align:baseline;"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;"># This variable should point to</span></span></span><span style="vertical-align:baseline;"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;"># the openssl.cnf file included</span></span></span><span style="vertical-align:baseline;"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;"># with easy-rsa.</span></span></span><span style="vertical-align:baseline;"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;">export KEY_CONFIG=`$EASY_RSA/openssl-1.0.0.cnf $EASY_RSA</span></span></span></p></blockquote>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">We continue to build CA, I recommend, you call your CA: ca for common name</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">./clean-all</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">./build-ca</span></b><br />
<h2><b style="font-weight:normal;"><span style="font-family:Arial;font-size:19px;vertical-align:baseline;white-space:pre-wrap;">Server Certificates</span></b></h2>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Built certificate and private key for the server [server is the host where you installing openvpn]:</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">./build-key-server ns</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><br /><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Make sure you </span></b>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">"Sign the certificate? [y/n]" y</span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">and commit certificate</span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">"1 out of 1 certificate requests certified, commit? [y/n]".y</span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Diffie Hellman parameters must be generated for the OpenVPN server [its another authentication needed by client]:</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">./build-dh</span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br class="kix-line-break" /></span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">All certificates and keys can be found in the subdirectory keys/. </span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;"><span style="font-size:15px;white-space:pre-wrap;">It is good practice to copy them to /etc/openvpn/, mandatory in this case because you need to specify path to those keys later in a config</span></span><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">cd keys/<br class="kix-line-break" />cp ns.crt ns.key ca.crt dh1024.pem /etc/openvpn/</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span></b><br />
<h2><b style="font-weight:normal;"><span style="font-family:Arial;font-size:19px;vertical-align:baseline;white-space:pre-wrap;">Client Certificates</span></b></h2>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Here you create the keys to your clients, [hosts connecting to the vpn], I'll be creating it for my laptop and nexus 7:</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">cd /etc/openvpn/easy-rsa/<br class="kix-line-break" />source vars<br class="kix-line-break" />./build-key nexus7</span></b></div>
<div></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Copy the following files to the clients using a secure methods:</span></b>
<ol style="margin-bottom:0;margin-top:0;" /><b style="font-weight:normal;">
<li style="font-family:'Courier New';font-size:13px;list-style-type:decimal;vertical-align:baseline;"><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap;">/etc/openvpn/ca.crt</span></li>
<li style="font-family:'Courier New';font-size:13px;list-style-type:decimal;vertical-align:baseline;"><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap;">/etc/openvpn/easy-rsa/keys/nexus7.crt</span></li>
<li style="font-family:'Courier New';font-size:13px;list-style-type:decimal;vertical-align:baseline;"><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap;">/etc/openvpn/easy-rsa/keys/nexus7.key</span></li>
<p></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">REMOVE THE CERTIFICATES WHEN YOU ARE DONE, you can recreate them anytime. for your own security, you can package them like I did, copy each each of these folders to the clients.</span></b>
<div style="text-align:left;"><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<p><b style="font-weight:normal;"></b>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;"><img border="0" height="335" src="/assets/images/wp/7aa78-screenshot-12162012-125620pm.png?w=300" width="400" /></a></div>
<h2><b style="font-weight:normal;"><span style="font-family:Arial;font-size:19px;vertical-align:baseline;white-space:pre-wrap;">Simple Server Configuration</span></b></h2>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Along with your OpenVPN installation you got these sample config files (and many more if if you check):</span><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">ls /usr/share/doc/openvpn/examples/sample-config-files/</span></b><br />
<blockquote class="tr_bq"><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">client.conf server.conf.gz</span></b></p></blockquote>
<p><b style="font-weight:normal;"><span style="font-family:Arial;"><span style="font-size:15px;white-space:pre-wrap;">Unpack config, to your server, we'll edit that config</span></span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">sudo cp /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz /etc/openvpn/<br class="kix-line-break" />sudo gzip -d /etc/openvpn/server.conf.gz</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><br /><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Edit /etc/openvpn/server.conf to make sure the following lines are pointing to the certificates and keys you created in the section above.</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">ca ca.crt<br class="kix-line-break" />cert ns.crt<br class="kix-line-break" />key ns.key <br class="kix-line-break" />dh dh1024.pem</span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br class="kix-line-break" /></span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">create ta key [another security barrier]</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">openvpn --genkey --secret /etc/openvpn/ta.key</span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br class="kix-line-break" /></span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">check syslog for errors [tail -f /var/log/syslog]</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">root@ns:/etc/openvpn# /etc/init.d/openvpn start<br class="kix-line-break" /> * Starting virtual private network daemon(s)...<br class="kix-line-break" />   *   Autostarting VPN 'server'                     [ OK ]</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><br /><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Now check if OpenVPN created a tun0 interface:</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">root@ns:/etc/openvpn# ifconfig tun0</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">tun0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  <br class="kix-line-break" />          inet addr:10.8.0.1  P-t-P:10.8.0.2  Mask:255.255.255.255<br class="kix-line-break" />          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1500  Metric:1</span></b><br />
<h2><b style="font-weight:normal;"><span style="font-family:Arial;font-size:19px;vertical-align:baseline;white-space:pre-wrap;">NAT-ing</span></b></h2>
<p><b style="font-weight:normal;"><span style="font-family:Arial;"><span style="font-size:15px;white-space:pre-wrap;">Allow your server to forward requests using ipv4</span></span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">nano /etc/sysctl.conf</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">net.ipv4.ip_forward=1</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">echo 1 &gt; /proc/sys/net/ipv4/ip_forward</span></b><br /><b style="font-weight:normal;"><span style="font-family:Courier New;"><span style="font-size:15px;white-space:pre-wrap;"><br /></span></span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Allow post routing on your interface. Assuming it is eth0, do ifconfig, and check your interface, hopefully you aren't one of those crazies trying to do it on wlan0.</span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o eth0 -j MASQUERADE</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">To make it permanent you need to:</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">sudo nano /etc/rc.local</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Add the line:</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o eth0 -j MASQUERADE</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">just before: exit 0</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">On Linux, you could use a command such as this to NAT the VPN client traffic to the internet:</span></b><br />
<h2><b style="font-weight:normal;"><span style="font-family:Arial;font-size:19px;vertical-align:baseline;white-space:pre-wrap;">Server Config</span></b></h2>
<p><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">grep ^[^#] /etc/openvpn/server.conf</span><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div>
<blockquote class="tr_bq">
<blockquote class="tr_bq"><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;local a.b.c.d</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">port 1194 #default port</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">proto tcp</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">proto udp</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">dev tap</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">dev tun</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">dev-node MyTap</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">ca ca.crt</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">cert </span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">ns.crt</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">key ns.key  # This file should be kept secret</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">dh dh1024.pem </span></b><b style="font-weight:normal;"><span style="color:red;font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">tls-auth ta.key 0 #this is important</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">topology subnet</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">server 10.8.0.0 255.255.255.0 #client's ip on tunnel</span></b><br /><b><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">cipher BF-CBC <span style="font-weight:normal;">       # Blowfish (default)</span></span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;cipher AES-128-CBC   # AES</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">cipher DES-EDE3-CBC  # Triple-DES</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">comp-lzo</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;max-clients 100</span></b><br /><b style="font-weight:normal;"><span style="color:red;font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">user nobody #this option is picky, you can specify usr </span></b><br /><b style="font-weight:normal;"><span style="color:red;font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">group nogroup # or group if you sure they won't change</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">persist-key</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">persist-tun  #increased logs and to a specific folder , make sure you create a folder called [mkdir -p /var/log/openvpn/]</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">status      /var/log/openvpn/openvpn-status.log</span></b><br /><b><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">log         /var/log/openvpn/openvpn.log</span></b><br /><b><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">log-append  /var/log/openvpn/openvpn.log</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">verb 6</span></b><br /><b><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">mute 10<span style="font-weight:normal;"> </span>#mutes output after 10 repetition</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">ifconfig-pool-persist ipp.txt</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;</span></b> <b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">server-bridge 10.8.0.4 255.255.255.0 10.8.0.50 10.8.0.100</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;server-bridge</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">push "route 192.168.0.0 255.255.255.0" pushing routes to client</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;push "route 192.168.20.0 255.255.255.128"</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">client-config-dir ccd</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;route 192.168.95.0 255.255.255.128</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;client-config-dir ccd</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;route 10.9.0.0 255.255.255.252</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;learn-address ./script</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;push "redirect-gateway def1 bypass-dhcp</span></b><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">"</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">push "redirect-gateway def1"</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">push "dhcp-option DNS 192.168.1.1" #pushing dns to client</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">push "dhcp-option DNS 8.8.8.8"</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">push "dhcp-option DNS 8.8.4.4"</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">client-to-client</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">;duplicate-cn</span></b><br /><b style="font-weight:normal;"><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">keepalive 10 120</span></b></p></blockquote>
</blockquote>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span></b><br />
<h2><b style="font-weight:normal;"><span style="font-family:Arial;font-size:19px;vertical-align:baseline;white-space:pre-wrap;">Simple Client Configuration [Ubuntu LAPTOP]</span></b></h2>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">sudo apt-get install openvpn</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">sudo apt-get install network-manager-openvpn openvpn</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Download and extract your configuration files.</span><br /><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;">dv7.crt dv7.key ca.crt</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">1) Under Network Manager go to</span><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;"> VPN connections -&gt; Configure VPN</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="345" src="/assets/images/wp/80912-screenshot-12162012-012021pm.png?w=300" width="400" /></a></div>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">2) Click </span><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">Add</span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"> under </span><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">VPN tab</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div class="separator" style="clear:both;text-align:center;"><a href="#" style="clear:left;float:left;margin-bottom:1em;margin-right:1em;" target="_blank"><img border="0" height="296" src="/assets/images/wp/88b19-screenshot-12162012-01253a20253a53pm.png?w=300" width="400" /></a></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">3) Select </span><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">OpenVPN </span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">under </span><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">options</span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"> and click </span><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">Create</span></b></p>
</div>
<div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;text-align:center;" target="_blank"><img border="0" height="150" src="/assets/images/wp/32562-screenshot-12162012-012106pm.png?w=300" width="400" /></a></div>
<p><b><span style="font-family:Arial;font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b><span style="font-family:Arial;font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap;">4) Fill form using your </span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">OpenVPN configuration</span><span style="font-family:Arial;font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap;"> file</span></b></div>
<div><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">5) Import </span><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">certificates</span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"> and key using your configuration files</span></div>
<div><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">User certificate </span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">will be </span><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">dv7.crt</span><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;"></span><br /><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">CA Certificate </span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">will be your </span><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;"> </span><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">ca.crt</span><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;"></span><br /><span style="font-family:Arial;font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">Private Key</span><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"> will be your</span><span style="font-family:'Courier New';font-size:15px;vertical-align:baseline;white-space:pre-wrap;"> </span><span style="font-family:'Courier New';font-size:15px;font-weight:bold;vertical-align:baseline;white-space:pre-wrap;">dv7.key</span></div>
<div></div>
<div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="400" src="/assets/images/wp/bb5c2-screenshot-12162012-012213pm.png?w=288" width="382" /></a></div>
<p><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">6) Under Advanced fill port, using OpenVPN configuration file</span></b><br /><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div class="separator" style="clear:both;text-align:center;"></div>
<div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="400" src="/assets/images/wp/30f4d-screenshot-12162012-012510pm.png?w=288" width="382" /></a></div>
<p><b><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><span style="font-weight:normal;"><br /></span></span></b><b><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><span style="font-weight:normal;">7 ) Under </span>TLS Authentication<span style="font-weight:normal;"> tab</span></span></b><b><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><span style="font-weight:normal;">check option Use additional </span>TLS authentication</span></b><br /><b><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><span style="font-weight:normal;">8) For Key file import your </span>ta.key<span style="font-weight:normal;"> file</span></span></b></div>
<div><b><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><span style="font-weight:normal;">9) For Key direction set</span> 1</span></b></div>
<div><b><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><span style="font-weight:normal;"><br /></span></span></b>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="400" src="/assets/images/wp/3b482-screenshot-12162012-012614pm.png?w=288" width="382" /></a></div>
<p><b><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><span style="font-weight:normal;"><br /></span></span></b><b><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><span style="font-weight:normal;">Ok under Advanced and Apply to </span>save all</span><br /><span style="font-family:Arial;font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div><b style="font-weight:normal;"><span style="vertical-align:baseline;">10) OpenVPN configured and we can close Network Connections window</span></b></div>
<div><b><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><span style="font-weight:normal;">11) Try to connect choosing </span>Home<span style="font-weight:normal;"> from VPN connections</span></span></b><br /><b><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><span style="font-weight:normal;"><br /></span></span></b></div>
<div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="342" src="/assets/images/wp/39d17-screenshot-12162012-012807pm.png?w=300" width="400" /></a></div>
</div>
<div class="separator" style="clear:both;text-align:center;"></div>
<div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="201" src="/assets/images/wp/c029b-screenshot-12162012-012843pm.png?w=300" width="400" /></a></div>
<p><b style="font-weight:normal;"><span style="font-family:Arial;"><span style="font-size:15px;white-space:pre-wrap;"><br /></span></span></b> <b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">12) Done, we’re connected now</span></p>
<p><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span></b><b style="font-weight:normal;"></b><br />
<h2><b style="font-weight:normal;"><span style="font-family:Arial;font-size:19px;vertical-align:baseline;white-space:pre-wrap;">Simple Client Configuration [NEXUS7]</span></b></h2>
<p><b style="font-weight:normal;"></b><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span></b>
<div><b style="font-weight:normal;"><b style="font-weight:normal;"><br /></b></b></div>
<p><a href="https://play.google.com/store/apps/details?id=de.blinkt.openvpn" style="clear:left;float:left;margin-bottom:1em;margin-right:1em;" target="_blank"><img border="0" src="/assets/images/wp/74ad1-unnamed.png" /></a><b style="font-weight:normal;">Unfortunately, I do not know if these instructions will work on a non rooted nexus7, mine is rooted, all my devices are rooted. </b></div>
<div><b style="font-weight:normal;"><br /></b></div>
<div>This app is called OpenVPN for Android, click on the icon to get redirected to the market. Install it. </div>
<div><b style="font-weight:normal;"><br /></b><b style="font-weight:normal;">First copy certs to your phone, I honestly scp-ed them over, but its another tutorial on its own, you can dropbox it over, or google drive. the app knows how to fetch things from your sd. Click on vpn profile</b></div>
<div><b style="font-weight:normal;"><br /></b></div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="640" src="/assets/images/wp/be21b-2012-12-1614-38-32.png?w=187" width="400" /></a></div>
<div><b style="font-weight:normal;"><br /></b><b style="font-weight:normal;">Then select add profile</b><br /><b style="font-weight:normal;"><br /></b></div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="640" src="/assets/images/wp/d6aeb-2012-12-1614-38-39.png?w=187" width="400" /></a></div>
<div class="separator" style="clear:both;text-align:center;"></div>
<div class="separator" style="clear:both;text-align:left;">Call it whatever</div>
<div class="separator" style="clear:both;text-align:left;"></div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="640" src="/assets/images/wp/39c6f-2012-12-1614-38-47.png?w=187" width="400" /></a></div>
<div class="separator" style="clear:both;text-align:center;"></div>
<div class="separator" style="clear:both;text-align:left;">Select Type: PW + Certificate. Then select the location of files, you can also import and paste them and then delete the keys, both are fine. It will complain about user name, we set it to nobody, so you can select any user to connect</div>
<div><b style="font-weight:normal;"><br /></b></div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="640" src="/assets/images/wp/286bd-2012-12-1614-54-49.png?w=187" width="400" /></a></div>
<div class="separator" style="clear:both;text-align:center;"></div>
<div class="separator" style="clear:both;text-align:left;">Go Back once and select Authentication/encription</div>
<div></div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="640" src="/assets/images/wp/2b2fd-2012-12-1615-04-29.png?w=187" width="400" /></a></div>
<div class="separator" style="clear:both;text-align:left;"></div>
<div>Turn the use TLS Authentication ON, and select TA KEY</p>
</div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="640" src="/assets/images/wp/58f2e-2012-12-1615-06-37.png?w=187" width="400" /></a></div>
<div class="separator" style="clear:both;text-align:center;"></div>
<div>for TLS Direction. we are a client so select 1</p>
</div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="640" src="/assets/images/wp/6cfe2-2012-12-1614-52-01.png?w=187" width="400" /></a></div>
<div></div>
<div>Go back couple of screens then connect</p>
</div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="640" src="/assets/images/wp/e4456-2012-12-1615-08-19.png?w=187" width="400" /></a></div>
<div></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Success!! we are connected</span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div class="separator" style="clear:both;text-align:left;"><a href="#" style="margin-left:1em;margin-right:1em;" target="_blank"><img border="0" height="640" src="/assets/images/wp/e1146-2012-12-1614-56-13.png?w=187" width="400" /></a></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"><br /></span></b></div>
<div><b style="font-weight:normal;"><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Troubleshoot</span><br /><span style="font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;"></span></b>
<ul style="margin-bottom:0;margin-top:0;" /><b style="font-weight:normal;">
<li style="background-color:white;color:#333333;font-family:Ubuntu;font-size:13px;list-style-type:disc;vertical-align:baseline;"><span style="background-color:transparent;color:black;font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Check your syslog, e.g. grep -i vpn /var/log/syslog on server and on client. </span></li>
<li style="background-color:white;color:#333333;font-family:Ubuntu;font-size:13px;list-style-type:disc;vertical-align:baseline;"><span style="background-color:transparent;color:black;font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Android app will give you a detailed description, when connecting, use it</span></li>
<li style="background-color:white;color:#333333;font-family:Ubuntu;font-size:13px;list-style-type:disc;vertical-align:baseline;"><span style="background-color:transparent;color:black;font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Can the client connect to the server machine? Maybe a firewall is blocking access? Check syslog on server.</span></li>
<li style="font-family:Ubuntu;font-size:13px;list-style-type:disc;vertical-align:baseline;"><span style="background-color:transparent;color:black;font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Client and server must use same protocol and port, e.g. UDP port 1194, see port and proto config option</span></li>
<li style="font-family:Ubuntu;font-size:13px;list-style-type:disc;vertical-align:baseline;"><span style="background-color:transparent;color:black;font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Client and server must use same config regarding compression, see comp-lzo config option</span></li>
<li style="font-family:Ubuntu;font-size:13px;list-style-type:disc;vertical-align:baseline;"><span style="background-color:transparent;color:black;font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Client and server must use same config regarding bridged vs routed mode, see server vs server-bridge config option</span></li>
<li style="font-family:Ubuntu;font-size:13px;list-style-type:disc;vertical-align:baseline;"><span style="background-color:transparent;color:black;font-family:Arial;font-size:15px;vertical-align:baseline;white-space:pre-wrap;">Check routes with netstat -rn</span></li>
<p></b><b style="font-weight:normal;"></b>
<div><b style="font-weight:normal;"><span style="font-family:Arial;"><span style="font-size:15px;white-space:pre-wrap;">Links</span></span></b></div>
<p><b style="font-weight:normal;"></b>
<div><b style="font-weight:normal;"><span style="font-family:Arial;"><span style="font-size:15px;white-space:pre-wrap;"><br /></span></span></b></div>
<p><b style="font-weight:normal;"></b>
<div><b style="font-weight:normal;"><a href="http://ubuntuforums.org/showthread.php?t=2001055">http://ubuntuforums.org/showthread.php?t=2001055</a></b></div>
<p><b style="font-weight:normal;"></b>
<div><b style="font-weight:normal;"><a href="https://help.ubuntu.com/11.10/serverguide/openvpn.html">https://help.ubuntu.com/11.10/serverguide/openvpn.html</a></b></div>
<p><b style="font-weight:normal;"></b>
<div><b style="font-weight:normal;"><a href="http://openvpn.net/index.php/open-source/documentation/howto.html">http://openvpn.net/index.php/open-source/documentation/howto.html</a></b></div>
<p><b style="font-weight:normal;"></b>
<div><b style="font-weight:normal;"><a href="https://play.google.com/store/apps/details?id=de.blinkt.openvpn&amp;feature=search_result#?t=W251bGwsMSwyLDEsImRlLmJsaW5rdC5vcGVudnBuIl0.">https://play.google.com/store/apps/details?id=de.blinkt.openvpn&amp;feature=search_result#?t=W251bGwsMSwyLDEsImRlLmJsaW5rdC5vcGVudnBuIl0.</a></b></div>
<p><b style="font-weight:normal;"></b>
<div><b style="font-weight:normal;"><br /></b></div>
<p><b style="font-weight:normal;"></b></div>
